<!DOCTYPE html>
<html>
<head>
  <title>CSH Map Demo</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link type="text/css" rel="stylesheet" href="http://localhost:8888/src/css/main.css">
</head>
<body>
<div id="spin"></div>
<div id="csh-map"></div>
<script type="text/javascript" src="http://fgnass.github.io/spin.js/spin.min.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMg7g6Cq-D_y-jVmnvX3XNfcYZc5lPu_8&v=3.22"></script>
<script type="text/javascript" src="http://localhost:8888/dist/csh-map-ui.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
  var spinner, timeout, config, map;
  // Generate map config
  config = {
    // These are hardcoded onto the page
    hostUrl: 'http://localhost:8888',
    apiUrl: 'http://localhost:3000/v1',
    // These are provided via WebAuth
    uid: 'bencentra',
    cn: 'Ben Centra'
  };
  // Create and initialize the map
  map = new CSHMap(config);
  map.init().then(function() {
    clearTimeout(timeout);
    if (spinner) spinner.stop();
  });
  // Start a spinner if things are taking a while
  timeout = setTimeout(function() {
    spinner = new Spinner().spin(document.querySelector('#spin'));
  }, 250);
});
</script>
</body>
</html>
